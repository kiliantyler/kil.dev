<script>
  ;(function () {
    try {
      var root = document.documentElement

      function readCookie(name) {
        try {
          var re = new RegExp('(?:^|; )' + name + '=([^;]+)')
          var m = re.exec(document.cookie)
          return m && m[1] ? decodeURIComponent(m[1]) : undefined
        } catch (e) {
          return undefined
        }
      }

      var selected = (function () {
        try {
          var v = window.localStorage.getItem('storybook_theme')
          if (v) return v
        } catch (e) {}
        var c = readCookie('storybook_theme')
        if (c) return c
        return 'system'
      })()

      var sysDark = false
      try {
        sysDark = !!(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)
      } catch (e) {}

      var base = sysDark ? 'dark' : 'light'

      var classes = []
      if (selected === 'system') {
        classes.push(base)
      } else {
        classes.push(selected)
      }

      root.dataset.appliedTheme = classes[0] || ''
    } catch (e) {}
  })()
</script>
<style>
  html {
    scrollbar-gutter: auto !important;
  }
</style>
